---
const { pathname } = Astro.url;

const links = [
	{ href: "/", label: "Home" },
	{ href: "/publications", label: "Publications" },
	{ href: "/thoughts", label: "Thoughts" },
	{ href: "/notebooks", label: "Notebooks" },
];

function isActive(href: string): boolean {
	if (href === "/") {
		return pathname === "/";
	}
	return pathname.startsWith(href);
}
---

<nav>
	{links.map((link) => (
		<a
			href={link.href}
			class:list={[{ active: isActive(link.href) }]}
			aria-current={isActive(link.href) ? "page" : undefined}
		>
			{link.label}
		</a>
	))}
</nav>

<style>
	nav {
		display: flex;
		gap: 1rem;
		margin-bottom: 2rem;
	}
	nav a {
		text-decoration: none;
	}
	nav a:hover {
		text-decoration: underline;
	}
	nav a.active {
		font-weight: bold;
	}
</style>
